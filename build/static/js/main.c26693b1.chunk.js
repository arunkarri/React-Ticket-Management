(this["webpackJsonpticket-mgt"]=this["webpackJsonpticket-mgt"]||[]).push([[0],{11:function(t,e,c){"use strict";c.r(e);var n=c(0),s=c(1),i=c.n(s),a=c(5),o=c.n(a),r=c(3),l=c(2),j="https://601820f5971d850017a3f941.mockapi.io/api/",d=function(){var t=i.a.useState([]),e=Object(l.a)(t,2),c=e[0],s=e[1],a=i.a.useState(0),o=Object(l.a)(a,2),d=o[0],u=o[1],h=i.a.useState(""),b=Object(l.a)(h,2),p=b[0],x=b[1],f=i.a.useState(""),O=Object(l.a)(f,2),m=O[0],v=O[1],g=i.a.useState(!1),N=Object(l.a)(g,2),y=N[0],k=N[1];function C(){k(!0),fetch("".concat(j,"tickets")).then((function(t){return t.json()})).then((function(t){k(!1),s(t)}))}i.a.useEffect((function(){C()}),[]);return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-5 col-xl-5 col-sm-6 col-md-6 col-xs-12",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter a title",value:p,onChange:function(t){return x(t.target.value)}})}),Object(n.jsx)("div",{className:"col-lg-5 col-xl-5 col-sm-6 col-md-6 col-xs-12",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter a description",value:m,onChange:function(t){return v(t.target.value)}})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"col-lg-2 col-xl-2 col-sm-6 col-md-6 col-xs-12",children:Object(n.jsxs)("button",{type:"button",className:"ml-auto btn btn-primary",onClick:function(){k(!0);var t={title:p,description:m,id:c[c.length-1].id+1};console.log(t.id),fetch("".concat(j,"tickets"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){k(!1),x(""),v(""),C()}))},children:[Object(n.jsx)("i",{className:"fas fa-plus"})," New Query"]})})]}),!0===y?Object(n.jsx)("div",{className:"d-flex spinner-border text-success",role:"status",children:Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"",Object(n.jsxs)("table",{className:"table table-responsive",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Ticket ID"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(n.jsx)("tbody",{children:c.map((function(t,e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.id}),Object(n.jsx)("td",{children:d===t.id?Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter query title",value:t.title,onChange:function(t){return s(c.map((function(c,n){return n===e?Object(r.a)(Object(r.a)({},c),{},{title:t.target.value}):c})))}}):t.title}),Object(n.jsx)("td",{children:d===t.id?Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter query description",value:t.description,onChange:function(t){return s(c.map((function(c,n){return n===e?Object(r.a)(Object(r.a)({},c),{},{description:t.target.value}):c})))}}):t.description}),Object(n.jsx)("td",{children:Object(n.jsxs)("span",{children:[d!==t.id?Object(n.jsx)("i",{className:"fas fa-pen text-primary pointer",onClick:function(){return u(t.id)}}):Object(n.jsx)("i",{className:"fas fa-check-circle text-success pointer",onClick:function(){return e=t,n=t.id,k(!0),u(0),void fetch("".concat(j,"tickets/").concat(n),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){k(!1),s(c.map((function(t){return t.id===n?Object(r.a)({},t):t})))}));var e,n}}),"\xa0\xa0",Object(n.jsx)("i",{className:"fas fa-trash text-danger pointer",onClick:function(){return e=t.id,k(!0),void fetch("".concat(j,"tickets/").concat(e),{method:"DELETE"}).then((function(t){return t.json()})).then((function(t){k(!1),s(c.filter((function(t){return t.id!==e})))}));var e}})]})})]},e)}))})]})]})};var u=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(d,{})})};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(u,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.c26693b1.chunk.js.map